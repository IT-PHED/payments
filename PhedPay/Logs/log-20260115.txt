2026-01-15 10:13:44.223 +01:00 [INF] User profile is available. Using 'C:\Users\jideofor.ujah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-15 10:13:45.167 +01:00 [INF] Now listening on: https://localhost:7251
2026-01-15 10:13:45.172 +01:00 [INF] Now listening on: http://localhost:5214
2026-01-15 10:13:45.306 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-15 10:13:45.309 +01:00 [INF] Hosting environment: Development
2026-01-15 10:13:45.313 +01:00 [INF] Content root path: C:\Users\jideofor.ujah\source\repos\PhedPay\PhedPay
2026-01-15 10:13:46.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/ - null null
2026-01-15 10:13:47.061 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.Index (PhedPay)'
2026-01-15 10:13:47.095 +01:00 [INF] Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:13:47.649 +01:00 [INF] Executing ViewResult, running view Index.
2026-01-15 10:13:47.984 +01:00 [INF] Executed ViewResult - view Index executed in 336.1826ms.
2026-01-15 10:13:48.000 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.Index (PhedPay) in 892.7075ms
2026-01-15 10:13:48.008 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.Index (PhedPay)'
2026-01-15 10:13:48.020 +01:00 [INF] HTTP GET / responded 200 in 1017.3762 ms
2026-01-15 10:13:48.049 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/ - 200 null text/html; charset=utf-8 1197.1333ms
2026-01-15 10:13:48.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - null null
2026-01-15 10:13:48.093 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/css/site.css?v=zOqBk80THz8Zu2QyAalRH2z1rLq5a_LAkFo8r0ytsdQ - null null
2026-01-15 10:13:48.093 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/PhedPay.styles.css?v=CyplN--qDsuo0u8wOYpxBgX4NVH9CGxh46XsIoxGsuU - null null
2026-01-15 10:13:48.128 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/images/logo.png - null null
2026-01-15 10:13:48.143 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 51.4442ms
2026-01-15 10:13:48.164 +01:00 [INF] The file /PhedPay.styles.css was not modified
2026-01-15 10:13:48.169 +01:00 [INF] The file /images/logo.png was not modified
2026-01-15 10:13:48.129 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/js/site.js?v=cLTutX0JzlNzPlzXqNkgZLTLumd2dMR0WVBwoH0JvzM - null null
2026-01-15 10:13:48.186 +01:00 [INF] HTTP GET /PhedPay.styles.css responded 304 in 21.7791 ms
2026-01-15 10:13:48.188 +01:00 [INF] HTTP GET /images/logo.png responded 304 in 19.0935 ms
2026-01-15 10:13:48.194 +01:00 [INF] The file /js/site.js was not modified
2026-01-15 10:13:48.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/PhedPay.styles.css?v=CyplN--qDsuo0u8wOYpxBgX4NVH9CGxh46XsIoxGsuU - 304 null text/css 107.1147ms
2026-01-15 10:13:48.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/images/logo.png - 304 null image/png 77.924ms
2026-01-15 10:13:48.209 +01:00 [INF] HTTP GET /js/site.js responded 304 in 14.6137 ms
2026-01-15 10:13:48.164 +01:00 [INF] The file /css/site.css was not modified
2026-01-15 10:13:48.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_vs/browserLink - null null
2026-01-15 10:13:48.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/js/site.js?v=cLTutX0JzlNzPlzXqNkgZLTLumd2dMR0WVBwoH0JvzM - 304 null text/javascript 139.6558ms
2026-01-15 10:13:48.276 +01:00 [INF] HTTP GET /css/site.css responded 304 in 132.2447 ms
2026-01-15 10:13:48.327 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/css/site.css?v=zOqBk80THz8Zu2QyAalRH2z1rLq5a_LAkFo8r0ytsdQ - 304 null text/css 234.0908ms
2026-01-15 10:13:48.420 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_vs/browserLink - 200 null text/javascript; charset=UTF-8 287.3173ms
2026-01-15 10:14:01.519 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7251/Payment/ValidateCustomer - application/x-www-form-urlencoded 291
2026-01-15 10:14:01.541 +01:00 [INF] CORS policy execution successful.
2026-01-15 10:14:01.550 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay)'
2026-01-15 10:14:01.568 +01:00 [INF] Route matched with {action = "ValidateCustomer", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateCustomer(PhedPay.Models.PaymentInitiationViewModel) on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:14:02.013 +01:00 [INF] Start processing HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/GetcustomerInfo
2026-01-15 10:14:02.019 +01:00 [INF] Sending HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/GetcustomerInfo
2026-01-15 10:14:02.900 +01:00 [INF] Received HTTP response headers after 877.4102ms - 200
2026-01-15 10:14:02.904 +01:00 [INF] End processing HTTP request after 894.3939ms - 200
2026-01-15 10:14:03.016 +01:00 [INF] Executing ViewResult, running view ConfirmPayment.
2026-01-15 10:14:03.057 +01:00 [INF] Executed ViewResult - view ConfirmPayment executed in 40.6447ms.
2026-01-15 10:14:03.060 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay) in 1487.6542ms
2026-01-15 10:14:03.063 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay)'
2026-01-15 10:14:03.066 +01:00 [INF] HTTP POST /Payment/ValidateCustomer responded 200 in 1518.6256 ms
2026-01-15 10:14:03.069 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7251/Payment/ValidateCustomer - 200 null text/html; charset=utf-8 1550.251ms
2026-01-15 10:14:03.107 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - null null
2026-01-15 10:14:03.107 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_vs/browserLink - null null
2026-01-15 10:14:03.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.9326ms
2026-01-15 10:14:03.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.4705ms
2026-01-15 10:14:06.110 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7251/Payment/InitializeGlobalPay - application/x-www-form-urlencoded 366
2026-01-15 10:14:06.118 +01:00 [INF] CORS policy execution successful.
2026-01-15 10:14:06.121 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.InitializeGlobalPay (PhedPay)'
2026-01-15 10:14:06.127 +01:00 [INF] Route matched with {action = "InitializeGlobalPay", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitializeGlobalPay(System.String, System.String, System.String, System.String, System.Decimal, System.String, System.String) on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:14:17.036 +01:00 [INF] Start processing HTTP request POST https://paygw.globalpay.com.ng/globalpay-paymentgateway/api/paymentgateway/generate-payment-link
2026-01-15 10:14:17.039 +01:00 [INF] Sending HTTP request POST https://paygw.globalpay.com.ng/globalpay-paymentgateway/api/paymentgateway/generate-payment-link
2026-01-15 10:14:18.102 +01:00 [INF] Received HTTP response headers after 1060.7072ms - 400
2026-01-15 10:14:18.105 +01:00 [INF] End processing HTTP request after 1067.9949ms - 400
2026-01-15 10:17:50.109 +01:00 [INF] Executing ViewResult, running view Error.
2026-01-15 10:17:50.139 +01:00 [INF] Executed ViewResult - view Error executed in 64.3188ms.
2026-01-15 10:17:50.142 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.InitializeGlobalPay (PhedPay) in 224010.9394ms
2026-01-15 10:17:50.144 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.InitializeGlobalPay (PhedPay)'
2026-01-15 10:17:50.146 +01:00 [INF] HTTP POST /Payment/InitializeGlobalPay responded 200 in 224026.7067 ms
2026-01-15 10:17:50.150 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7251/Payment/InitializeGlobalPay - 200 null text/html; charset=utf-8 224040.7476ms
2026-01-15 10:17:55.463 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7251/Payment/ValidateCustomer - application/x-www-form-urlencoded 291
2026-01-15 10:17:55.477 +01:00 [INF] CORS policy execution successful.
2026-01-15 10:17:55.478 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay)'
2026-01-15 10:17:55.483 +01:00 [INF] Route matched with {action = "ValidateCustomer", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateCustomer(PhedPay.Models.PaymentInitiationViewModel) on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:17:55.488 +01:00 [INF] Start processing HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/GetcustomerInfo
2026-01-15 10:17:55.490 +01:00 [INF] Sending HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/GetcustomerInfo
2026-01-15 10:17:56.050 +01:00 [INF] Received HTTP response headers after 558.3742ms - 200
2026-01-15 10:17:56.057 +01:00 [INF] End processing HTTP request after 569.1001ms - 200
2026-01-15 10:17:56.179 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay) in 693.2987ms
2026-01-15 10:17:56.182 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay)'
2026-01-15 10:17:56.184 +01:00 [ERR] HTTP POST /Payment/ValidateCustomer responded 500 in 705.8083 ms
Newtonsoft.Json.JsonSerializationException: Cannot deserialize the current JSON object (e.g. {"name":"value"}) into type 'System.Collections.Generic.List`1[System.Object]' because the type requires a JSON array (e.g. [1,2,3]) to deserialize correctly.
To fix this error either change the JSON to a JSON array (e.g. [1,2,3]) or change the deserialized type so that it is a normal .NET type (e.g. not a primitive type like integer, not a collection type like an array or List<T>) that can be deserialized from a JSON object. JsonObjectAttribute can also be added to the type to force it to deserialize from a JSON object.
Path 'Message', line 1, position 11.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value)
   at PhedPay.Controllers.PaymentController.ValidateCustomer(PaymentInitiationViewModel model)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2026-01-15 10:17:56.197 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Cannot deserialize the current JSON object (e.g. {"name":"value"}) into type 'System.Collections.Generic.List`1[System.Object]' because the type requires a JSON array (e.g. [1,2,3]) to deserialize correctly.
To fix this error either change the JSON to a JSON array (e.g. [1,2,3]) or change the deserialized type so that it is a normal .NET type (e.g. not a primitive type like integer, not a collection type like an array or List<T>) that can be deserialized from a JSON object. JsonObjectAttribute can also be added to the type to force it to deserialize from a JSON object.
Path 'Message', line 1, position 11.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)
   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value)
   at PhedPay.Controllers.PaymentController.ValidateCustomer(PaymentInitiationViewModel model)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-15 10:17:56.224 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7251/Payment/ValidateCustomer - 500 null text/html; charset=utf-8 762.2981ms
2026-01-15 10:17:56.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_vs/browserLink - null null
2026-01-15 10:17:56.250 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - null null
2026-01-15 10:17:56.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 10.8494ms
2026-01-15 10:17:56.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.8101ms
2026-01-15 10:18:12.667 +01:00 [INF] User profile is available. Using 'C:\Users\jideofor.ujah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-15 10:18:13.067 +01:00 [INF] Now listening on: https://localhost:7251
2026-01-15 10:18:13.071 +01:00 [INF] Now listening on: http://localhost:5214
2026-01-15 10:18:13.132 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-15 10:18:13.135 +01:00 [INF] Hosting environment: Development
2026-01-15 10:18:13.140 +01:00 [INF] Content root path: C:\Users\jideofor.ujah\source\repos\PhedPay\PhedPay
2026-01-15 10:18:14.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/ - null null
2026-01-15 10:18:14.367 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.Index (PhedPay)'
2026-01-15 10:18:14.394 +01:00 [INF] Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:18:14.645 +01:00 [INF] Executing ViewResult, running view Index.
2026-01-15 10:18:14.877 +01:00 [INF] Executed ViewResult - view Index executed in 228.1775ms.
2026-01-15 10:18:14.898 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.Index (PhedPay) in 497.7072ms
2026-01-15 10:18:14.912 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.Index (PhedPay)'
2026-01-15 10:18:14.925 +01:00 [INF] HTTP GET / responded 200 in 583.8017 ms
2026-01-15 10:18:14.949 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/ - 200 null text/html; charset=utf-8 712.0346ms
2026-01-15 10:18:15.016 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_vs/browserLink - null null
2026-01-15 10:18:15.017 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - null null
2026-01-15 10:18:15.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 46.7363ms
2026-01-15 10:18:15.162 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_vs/browserLink - 200 null text/javascript; charset=UTF-8 145.7977ms
2026-01-15 10:18:50.956 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7251/Payment/ValidateCustomer - application/x-www-form-urlencoded 291
2026-01-15 10:18:50.999 +01:00 [INF] CORS policy execution successful.
2026-01-15 10:18:51.011 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay)'
2026-01-15 10:18:51.033 +01:00 [INF] Route matched with {action = "ValidateCustomer", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateCustomer(PhedPay.Models.PaymentInitiationViewModel) on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:18:51.222 +01:00 [INF] Start processing HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/GetcustomerInfo
2026-01-15 10:18:51.228 +01:00 [INF] Sending HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/GetcustomerInfo
2026-01-15 10:18:51.912 +01:00 [INF] Received HTTP response headers after 676.4351ms - 200
2026-01-15 10:18:51.920 +01:00 [INF] End processing HTTP request after 704.3359ms - 200
2026-01-15 10:18:52.135 +01:00 [INF] Executing ViewResult, running view ConfirmPayment.
2026-01-15 10:18:52.229 +01:00 [INF] Executed ViewResult - view ConfirmPayment executed in 94.61ms.
2026-01-15 10:18:52.237 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay) in 1198.0181ms
2026-01-15 10:18:52.240 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.ValidateCustomer (PhedPay)'
2026-01-15 10:18:52.242 +01:00 [INF] HTTP POST /Payment/ValidateCustomer responded 200 in 1235.6075 ms
2026-01-15 10:18:52.246 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7251/Payment/ValidateCustomer - 200 null text/html; charset=utf-8 1290.7461ms
2026-01-15 10:18:52.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - null null
2026-01-15 10:18:52.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_vs/browserLink - null null
2026-01-15 10:18:52.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.3459ms
2026-01-15 10:18:52.312 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.828ms
2026-01-15 10:18:58.932 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7251/Payment/InitializeGlobalPay - application/x-www-form-urlencoded 366
2026-01-15 10:18:58.944 +01:00 [INF] CORS policy execution successful.
2026-01-15 10:18:58.950 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.InitializeGlobalPay (PhedPay)'
2026-01-15 10:18:58.963 +01:00 [INF] Route matched with {action = "InitializeGlobalPay", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitializeGlobalPay(System.String, System.String, System.String, System.String, System.Decimal, System.String, System.String) on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:19:09.770 +01:00 [INF] Start processing HTTP request POST https://paygw.globalpay.com.ng/globalpay-paymentgateway/api/paymentgateway/generate-payment-link
2026-01-15 10:19:09.775 +01:00 [INF] Sending HTTP request POST https://paygw.globalpay.com.ng/globalpay-paymentgateway/api/paymentgateway/generate-payment-link
2026-01-15 10:19:10.860 +01:00 [INF] Received HTTP response headers after 1079.5115ms - 200
2026-01-15 10:19:10.864 +01:00 [INF] End processing HTTP request after 1094.3529ms - 200
2026-01-15 10:19:32.171 +01:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionEntity'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2026-01-15 10:19:34.000 +01:00 [INF] Executed DbCommand (325ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PaymentTransactions] ([AccountNo], [Address], [Amount], [CreatedDate], [CustomerName], [Email], [GlobalId], [IsSynced], [MeterNo], [Phone], [RefId], [Status], [SyncedAt], [TransactionReference])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2026-01-15 10:19:34.099 +01:00 [INF] Executing RedirectResult, redirecting to https://www.globalpay.ng/test-payments/channels/card?txnRef=4879067752289567.
2026-01-15 10:19:34.102 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.InitializeGlobalPay (PhedPay) in 35133.6584ms
2026-01-15 10:19:34.105 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.InitializeGlobalPay (PhedPay)'
2026-01-15 10:19:34.107 +01:00 [INF] HTTP POST /Payment/InitializeGlobalPay responded 302 in 35161.6023 ms
2026-01-15 10:19:34.116 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7251/Payment/InitializeGlobalPay - 302 0 null 35184.1065ms
2026-01-15 10:20:02.576 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/Payment/VerifyGlobalPay?transactionId=GP_20260115101909_9490 - null null
2026-01-15 10:20:02.589 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.VerifyGlobalPay (PhedPay)'
2026-01-15 10:20:02.599 +01:00 [INF] Route matched with {action = "VerifyGlobalPay", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyGlobalPay(System.String) on controller PhedPay.Controllers.PaymentController (PhedPay).
2026-01-15 10:20:11.372 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@__transactionId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[AccountNo], [p].[Address], [p].[Amount], [p].[CreatedDate], [p].[CustomerName], [p].[Email], [p].[GlobalId], [p].[IsSynced], [p].[MeterNo], [p].[Phone], [p].[RefId], [p].[Status], [p].[SyncedAt], [p].[TransactionReference]
FROM [PaymentTransactions] AS [p]
WHERE [p].[TransactionReference] = @__transactionId_0
2026-01-15 10:20:32.373 +01:00 [INF] Start processing HTTP request GET https://paygw.globalpay.com.ng/globalpay-paymentgateway/api/paymentgateway/query-single-transaction-by-merchant-reference/GP_20260115101909_9490
2026-01-15 10:20:32.377 +01:00 [INF] Sending HTTP request GET https://paygw.globalpay.com.ng/globalpay-paymentgateway/api/paymentgateway/query-single-transaction-by-merchant-reference/GP_20260115101909_9490
2026-01-15 10:20:33.475 +01:00 [INF] Received HTTP response headers after 1094.7231ms - 200
2026-01-15 10:20:33.479 +01:00 [INF] End processing HTTP request after 1105.2083ms - 200
2026-01-15 10:21:17.251 +01:00 [INF] Executed DbCommand (95ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PaymentTransactions] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2026-01-15 10:21:32.211 +01:00 [INF] Start processing HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/NotifyPayment
2026-01-15 10:21:32.214 +01:00 [INF] Sending HTTP request POST https://collections.phed.com.ng/dlenhanceapi/Collection/NotifyPayment
2026-01-15 10:21:39.669 +01:00 [INF] Received HTTP response headers after 7452.4149ms - 200
2026-01-15 10:21:39.676 +01:00 [INF] End processing HTTP request after 7464.4006ms - 200
2026-01-15 10:21:39.682 +01:00 [INF] API Error: [
  {
    "CUSTOMER_NO": "824111122001",
    "METER_NO": "0171130332611",
    "RECEIPTNUMBER": "1501202652538438",
    "PAYMENTDATETIME": "15-01-2026 10:17:14",
    "AMOUNT": "100",
    "TOKENDESC": "50038158674792977092",
    "UNITSACTUAL": "1.2",
    "TARIFF": "39.67,SDUTY:N0 ",
    "STATUS": "SUCCESS",
    "CONS_NAME": null,
    "CON_TYPE": null,
    "ADDRESS": null,
    "PAYMENT_PURPOSE": null,
    "MR_NAME": null,
    "COL_TIME": null,
    "PYMNT_TYPE": null,
    "TARIFFCODE": null,
    "TARIFF_RATE": null,
    "TARIFF_INDEX": null,
    "INCIDENT_TYPE": null,
    "CHEQUEDATE": null,
    "CHEQUENO": null,
    "BANKNAME": null,
    "IBC": null,
    "BSC": null,
    "STAMPDUTY": null,
    "DETAILS": [
      {
        "HEAD": "Arrears (NGN)",
        "AMOUNT": "50.00"
      },
      {
        "HEAD": "Energy Value (NGN)",
        "AMOUNT": "46.51"
      },
      {
        "HEAD": "Refund Amount",
        "AMOUNT": "0.00"
      },
      {
        "HEAD": "VAT (NGN)",
        "AMOUNT": "3.49"
      }
    ]
  }
]
2026-01-15 10:21:39.688 +01:00 [INF] Executing ViewResult, running view Receipt.
2026-01-15 10:21:39.716 +01:00 [INF] Executed ViewResult - view Receipt executed in 30.5352ms.
2026-01-15 10:21:39.726 +01:00 [INF] Executed action PhedPay.Controllers.PaymentController.VerifyGlobalPay (PhedPay) in 97121.0977ms
2026-01-15 10:21:39.734 +01:00 [INF] Executed endpoint 'PhedPay.Controllers.PaymentController.VerifyGlobalPay (PhedPay)'
2026-01-15 10:21:39.739 +01:00 [INF] HTTP GET /Payment/VerifyGlobalPay responded 200 in 97149.8064 ms
2026-01-15 10:21:39.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/Payment/VerifyGlobalPay?transactionId=GP_20260115101909_9490 - 200 null text/html; charset=utf-8 97172.1148ms
2026-01-15 10:21:39.801 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_vs/browserLink - null null
2026-01-15 10:21:39.802 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - null null
2026-01-15 10:21:39.822 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 19.6355ms
2026-01-15 10:21:39.838 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7251/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.3452ms
2026-01-15 10:36:27.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7251/Payment/VerifyGlobalPay?transactionId=GP_20260115101909_9490 - null null
2026-01-15 10:36:27.900 +01:00 [INF] Executing endpoint 'PhedPay.Controllers.PaymentController.VerifyGlobalPay (PhedPay)'
2026-01-15 10:36:27.909 +01:00 [INF] Route matched with {action = "VerifyGlobalPay", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyGlobalPay(System.String) on controller PhedPay.Controllers.PaymentController (PhedPay).
